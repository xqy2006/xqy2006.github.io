<!doctype html><html lang="zh-CN"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.20" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><meta property="og:url" content="https://blog.xuqinyang.top/article/f9696bda/"><meta property="og:site_name" content="xqy2006's blog"><meta property="og:title" content="某通讯软件jsc逆向——破解超级调色盘"><meta property="og:description" content="本文基于版本9.9.21-38711 获取前端伪代码 为支持多平台，软件采用的是electron架构，通过将js编译为jsc以保护前端代码，目前对改软件的修改多通过注入js，劫持IPC实现，但是极其容易被检测，从而触发风控，若是直接修改其前端的jsc字节码，则几乎不会被发现（目前没发现校验） jsc可以从major.node中提取出来，之后再通过我之前..."><meta property="og:type" content="article"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2026-02-09T06:08:36.000Z"><meta property="article:modified_time" content="2026-02-09T06:08:36.000Z"><script type="application/ld+json">{"@context":"https://schema.org","@type":"Article","headline":"某通讯软件jsc逆向——破解超级调色盘","image":[""],"dateModified":"2026-02-09T06:08:36.000Z","author":[]}</script><link rel="icon" type="image/png" href="https://theme-plume.vuejs.press/favicon-32x32.png"><title>某通讯软件jsc逆向——破解超级调色盘 | xqy2006's blog</title><meta name="description" content="本文基于版本9.9.21-38711 获取前端伪代码 为支持多平台，软件采用的是electron架构，通过将js编译为jsc以保护前端代码，目前对改软件的修改多通过注入js，劫持IPC实现，但是极其容易被检测，从而触发风控，若是直接修改其前端的jsc字节码，则几乎不会被发现（目前没发现校验） jsc可以从major.node中提取出来，之后再通过我之前..."><link rel="preload" href="/assets/style-CxyGaE-o.css" as="style"><link rel="stylesheet" href="/assets/style-CxyGaE-o.css"><link rel="modulepreload" href="/assets/app-CvtkJ6Nv.js"><link rel="modulepreload" href="/assets/index.html-DC7avGlR.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-22826f99><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-5f77ddcf></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-5f77ddcf> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-22826f99 data-v-466d6542><div class="vp-navbar" vp-navbar data-v-466d6542 data-v-9b8b3205><div class="wrapper" data-v-9b8b3205><div class="container" data-v-9b8b3205><div class="title" data-v-9b8b3205><div class="vp-navbar-title" data-v-9b8b3205 data-v-1327d960><a class="vp-link no-icon link title" href="/" data-v-1327d960 data-v-22e16ae1><!--[--><!--[--><!--]--><!--[--><!--[--><!--[--><img class="vp-image dark logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-890b9faf><!--]--><!--[--><img class="vp-image light logo" style="" src="https://theme-plume.vuejs.press/plume.png" alt data-v-890b9faf><!--]--><!--]--><!--]--><span data-v-1327d960>xqy2006&#39;s blog</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-9b8b3205><div class="content-body" data-v-9b8b3205><!--[--><!--]--><div class="vp-navbar-search search" data-v-9b8b3205><div class="search-wrapper" data-v-9b6231cb><!----><div id="local-search" data-v-9b6231cb><button type="button" class="mini-search mini-search-button" aria-label="搜索文档" data-v-9b6231cb><span class="mini-search-button-container"><span class="mini-search-search-icon vpi-mini-search" aria-label="search icon"></span><span class="mini-search-button-placeholder">搜索文档</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-9b8b3205 data-v-1403999f><span id="main-nav-aria-label" class="visually-hidden" data-v-1403999f>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-1403999f data-v-c068e16f data-v-22e16ae1><!--[--><!----><span data-v-c068e16f>博客</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/tags/" tabindex="0" data-v-1403999f data-v-c068e16f data-v-22e16ae1><!--[--><!----><span data-v-c068e16f>标签</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/blog/archives/" tabindex="0" data-v-1403999f data-v-c068e16f data-v-22e16ae1><!--[--><!----><span data-v-c068e16f>归档</span><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-9b8b3205 data-v-6f17ac32><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-6f17ac32 data-v-ac9004f4 data-v-d5dcde50><span class="check" data-v-d5dcde50><span class="icon" data-v-d5dcde50><!--[--><span class="vpi-sun sun" data-v-ac9004f4></span><span class="vpi-moon moon" data-v-ac9004f4></span><!--]--></span></span></button></div><div class="vp-social-links vp-navbar-social-links social-links" data-v-9b8b3205 data-v-55e15266 data-v-7ed7af87><!--[--><a class="vp-social-link no-icon" href="https://github.com/xqy2006/" aria-label="github" target="_blank" rel="noopener" data-v-7ed7af87 data-v-11e582aa><span class="vpi-social-github" /></a><!--]--></div><div class="vp-flyout vp-navbar-extra extra" data-v-9b8b3205 data-v-3f372fdf data-v-1d099410><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-1d099410><span class="vpi-more-horizontal icon" data-v-1d099410></span></button><div class="menu" data-v-1d099410><div class="vp-menu" data-v-1d099410 data-v-4fd52f64><!----><!--[--><!--[--><!----><div class="group" data-v-3f372fdf><div class="item appearance" data-v-3f372fdf><p class="label" data-v-3f372fdf>外观</p><div class="appearance-action" data-v-3f372fdf><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-3f372fdf data-v-ac9004f4 data-v-d5dcde50><span class="check" data-v-d5dcde50><span class="icon" data-v-d5dcde50><!--[--><span class="vpi-sun sun" data-v-ac9004f4></span><span class="vpi-moon moon" data-v-ac9004f4></span><!--]--></span></span></button></div></div></div><div class="group" data-v-3f372fdf><div class="item social-links" data-v-3f372fdf><div class="vp-social-links social-links-list" data-v-3f372fdf data-v-7ed7af87><!--[--><a class="vp-social-link no-icon" href="https://github.com/xqy2006/" aria-label="github" target="_blank" rel="noopener" data-v-7ed7af87 data-v-11e582aa><span class="vpi-social-github" /></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-9b8b3205 data-v-c60b2e7e><span class="container" data-v-c60b2e7e><span class="top" data-v-c60b2e7e></span><span class="middle" data-v-c60b2e7e></span><span class="bottom" data-v-c60b2e7e></span></span></button></div></div></div></div><div class="divider" data-v-9b8b3205><div class="divider-line" data-v-9b8b3205></div></div></div><!----></header><div class="vp-local-nav fixed reached-top is-blog" data-v-22826f99 data-v-ef077afc><button class="hidden menu" disabled aria-expanded="false" aria-controls="SidebarNav" data-v-ef077afc><span class="vpi-align-left menu-icon" data-v-ef077afc></span><span class="menu-text" data-v-ef077afc>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-ef077afc data-v-3f8a0cd4><button data-v-3f8a0cd4>返回顶部</button><!----></div></div><!----><!--[--><div id="VPContent" vp-content class="vp-content" data-v-22826f99 data-v-f1ea27ac><div class="vp-doc-container is-blog" data-v-f1ea27ac data-v-62ee972a><!--[--><!--]--><div class="container" data-v-62ee972a><!----><div class="content" data-v-62ee972a><div class="content-container" data-v-62ee972a><!--[--><!--]--><main class="main" data-v-62ee972a><nav class="vp-breadcrumb" data-v-62ee972a data-v-255edf33><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-255edf33><!--[--><li property="itemListElement" typeof="ListItem" data-v-255edf33><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-255edf33 data-v-22e16ae1><!--[-->首页<!--]--><!----></a><span class="vpi-chevron-right" data-v-255edf33></span><meta property="name" content="首页" data-v-255edf33><meta property="position" content="1" data-v-255edf33></li><li property="itemListElement" typeof="ListItem" data-v-255edf33><a class="vp-link no-icon link breadcrumb" href="/blog/" property="item" typeof="WebPage" data-v-255edf33 data-v-22e16ae1><!--[-->博客<!--]--><!----></a><span class="vpi-chevron-right" data-v-255edf33></span><meta property="name" content="博客" data-v-255edf33><meta property="position" content="2" data-v-255edf33></li><li property="itemListElement" typeof="ListItem" data-v-255edf33><a class="vp-link no-icon link breadcrumb" href="/blog/categories/?id=6cbffa" property="item" typeof="WebPage" data-v-255edf33 data-v-22e16ae1><!--[-->Crack<!--]--><!----></a><span class="vpi-chevron-right" data-v-255edf33></span><meta property="name" content="Crack" data-v-255edf33><meta property="position" content="3" data-v-255edf33></li><li property="itemListElement" typeof="ListItem" data-v-255edf33><a class="vp-link no-icon link breadcrumb current" href="/article/f9696bda/" property="item" typeof="WebPage" data-v-255edf33 data-v-22e16ae1><!--[-->某通讯软件jsc逆向——破解超级调色盘<!--]--><!----></a><!----><meta property="name" content="某通讯软件jsc逆向——破解超级调色盘" data-v-255edf33><meta property="position" content="4" data-v-255edf33></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-fd51a301>某通讯软件jsc逆向——破解超级调色盘 <!----></h1><div class="vp-doc-meta" data-v-fd51a301><p class="reading-time" data-v-fd51a301><span class="vpi-books icon" data-v-fd51a301></span><span data-v-fd51a301>约 2826 字</span><span data-v-fd51a301>大约 9 分钟</span></p><!----><p class="create-time" data-v-fd51a301><span class="vpi-clock icon" data-v-fd51a301></span><span data-v-fd51a301>2026-02-08</span></p></div><!--]--><div class="_article_f9696bda_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-62ee972a><div data-v-62ee972a><blockquote><p>本文基于版本9.9.21-38711</p></blockquote><h2 id="获取前端伪代码" tabindex="-1"><a class="header-anchor" href="#获取前端伪代码"><span>获取前端伪代码</span></a></h2><p>为支持多平台，软件采用的是electron架构，通过将js编译为jsc以保护前端代码，目前对改软件的修改多通过注入js，劫持IPC实现，但是极其容易被检测，从而触发风控，若是直接修改其前端的jsc字节码，则几乎不会被发现（目前没发现校验）</p><p>jsc可以从major.node中提取出来，之后再通过我之前的项目<a href="https://github.com/xqy2006/jsc2js/" target="_blank" rel="noopener noreferrer">jsc2js</a>，可以将所有jsc转换为可读的js：<a href="/qqnt.js">qqnt.js</a></p><p>此外我还统计了其中出现中文的代码行：<a href="/utf8_strings.txt">utf8_strings.txt</a></p><p>有了前端的伪代码，我们该如何去实际修改呢？接下来以破解svip功能超级调色盘为例进行探究</p><h2 id="破解超级调色盘" tabindex="-1"><a class="header-anchor" href="#破解超级调色盘"><span>破解超级调色盘</span></a></h2><h3 id="定位目标文件" tabindex="-1"><a class="header-anchor" href="#定位目标文件"><span>定位目标文件</span></a></h3><p>软件的前端代码被拆分成数百个 webpack chunk（<code>.jsc</code> 文件），每个 chunk 用数字 ID 标识。第一步是从 633 个反编译 JS 文件中找出哪些与超级调色盘功能相关。</p><h4 id="搜索入口-中文关键词" tabindex="-1"><a class="header-anchor" href="#搜索入口-中文关键词"><span>搜索入口：中文关键词</span></a></h4><p>最直接的入口是搜索功能名称本身：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-n</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">超级调色盘</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">qqnt.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>结果：</p><table><thead><tr><th>行号</th><th>文件</th><th>代码</th><th>含义</th></tr></thead><tbody><tr><td>617750</td><td>36346.js</td><td><code>&quot;超级调色盘&quot; === a0[&quot;innerText&quot;]</code></td><td>新手引导：通过 DOM 元素文本匹配菜单项</td></tr><tr><td>617946</td><td>36346.js</td><td><code>&quot;打开超级调色盘，&lt;br&gt;定制你的QQ主题！&quot;</code></td><td>引导气泡提示文案</td></tr><tr><td>2264353</td><td>89454.js</td><td><code>&quot;超级调色盘&quot; === a0[&lt;unknown&gt;]</code></td><td>过滤侧边栏菜单，打开超级调色盘窗口</td></tr></tbody></table><p><strong>36346.js</strong> 是新手引导系统，仅负责展示 UI 引导动画，不涉及主题逻辑——<strong>排除</strong>。</p><p><strong>89454.js</strong> 才是核心入口。</p><h4 id="分析-89454-js-——-超级调色盘入口组件" tabindex="-1"><a class="header-anchor" href="#分析-89454-js-——-超级调色盘入口组件"><span>分析 89454.js —— 超级调色盘入口组件</span></a></h4><p>读取 89454.js 的 <code>onCall</code> 函数：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">onCall</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">在侧边栏菜单中查找&quot;超级调色盘&quot;项</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">r3</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">item</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=&gt;</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">超级调色盘</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">===</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">item</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">])</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">r0</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">firstMatch</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">获取对应的</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">tabConfig</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">打开设置窗口，传入</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">tabConfig</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">openExternalWindow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">SettingWindow</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span class="space"> </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">tabConfig</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">r0</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">})</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>这揭示了架构：点击&quot;超级调色盘&quot;菜单 → 打开<strong>设置窗口</strong>（SettingWindow）并跳转到对应标签页。也就是说，超级调色盘的主 UI 不在 89454.js 本身，而在设置窗口加载的另一个 chunk 中。</p><p>89454.js 同时也包含 <code>selectTemplateTheme</code> 和 <code>selectStaticTheme</code> 函数（qqnt.js 第 2264415、2264462 行），它们处理主题选择时的 SVIP/试用/保存逻辑。但这是弹窗式的快捷入口（侧边栏面板），不是设置页的完整 UI。</p><h4 id="追踪-svip-按钮-——-定位-77263-js" tabindex="-1"><a class="header-anchor" href="#追踪-svip-按钮-——-定位-77263-js"><span>追踪 SVIP 按钮 —— 定位 77263.js</span></a></h4><p>超级调色盘设置页面有三种按钮：SVIP 开通按钮、试用按钮、套用按钮。搜索这些 UI 控制函数：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-n</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">showSvipBtn\|showTrialBtn\|showFreeThemeUseBtn</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">qqnt.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>结果：<strong>仅在 77263.js 中找到</strong>：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">showSvipBtn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">showTemplateTrialBtn</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isTrialing</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">showTrialBtn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">showTemplateTrialBtn</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isTrialing</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">showFreeThemeUseBtn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>进一步确认——搜索&quot;套用&quot;按钮文本：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-n</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">套用</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">qqnt.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>唯一匹配在 77263.js：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">r0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">216</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Uk</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">](</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">套用</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>结论</strong>：<code>77263.jsc</code> 是超级调色盘设置页面的 Vue 组件，控制所有按钮的显隐和点击行为。</p><h4 id="追踪持久化逻辑-——-定位-52574-js" tabindex="-1"><a class="header-anchor" href="#追踪持久化逻辑-——-定位-52574-js"><span>追踪持久化逻辑 —— 定位 52574.js</span></a></h4><p>在 77263.js 的 <code>handleClick</code> 函数中，点击&quot;套用&quot;按钮后执行：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">handleClick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">trialThemeStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cancelTrialTheme</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setThemeInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">←</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">关键：持久化保存</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><code>setThemeInfo()</code> 是主题持久化的核心方法。它来自 <code>appearanceStore</code>，而 <code>appearanceStore</code> 是通过 Pinia store 注入的。查看 77263.js 的模块初始化：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">9</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">]</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">a2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">52574</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">导入</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">52574</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">模块</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><code>get appearanceStore</code> getter：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">get</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">11</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">useStore</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">](</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">Scope</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">[</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">5</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">9</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">][</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ZL</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">])</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">从</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">52574</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">创建</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">store</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>由此确认 <code>52574</code> 就是 AppearanceStore 所在的模块。搜索验证：</p><div class="language-bash line-numbers-mode" data-ext="bash" data-title="bash"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">grep</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">-n</span><span class="space"> </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">func_setThemeInfo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span class="space"> </span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">qqnt.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在 52574.js 中找到：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">function</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setThemeInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">...日志：输出</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">isSvip、isDefaultThemeId、isFreeTheme</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">状态...</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">themeId</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!==</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">defaultThemeId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">undefined</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">←</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">三级拦截：非</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">SVIP</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">+</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">非默认</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">+</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">非免费</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">→</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">拒绝</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">构建请求，调用</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">nodeIKernelSkinService.setThemeInfo()</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">持久化</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>结论</strong>：<code>52574.jsc</code> 是 AppearanceStore，包含 <code>setThemeInfo</code> 的权限校验逻辑。</p><h4 id="文件关系图" tabindex="-1"><a class="header-anchor" href="#文件关系图"><span>文件关系图</span></a></h4><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>用户点击侧边栏&quot;超级调色盘&quot;</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>▼</span></span>
<span class="line"><span>89454.jsc</span><span class="space"> </span><span>(onCall)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span><span class="space"> </span><span class="space"> </span><span>过滤菜单项，调用</span><span class="space"> </span><span>openExternalWindow(SettingWindow)</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>▼</span></span>
<span class="line"><span>77263.jsc</span><span class="space"> </span><span>(设置页面</span><span class="space"> </span><span>Vue</span><span class="space"> </span><span>组件)</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>←</span><span class="space"> </span><span>补丁</span><span class="space"> </span><span>B1、B3、B11</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span><span class="space"> </span><span class="space"> </span><span>showSvipBtn</span><span class="space"> </span><span>/</span><span class="space"> </span><span>showTrialBtn</span><span class="space"> </span><span>/</span><span class="space"> </span><span>showFreeThemeUseBtn</span><span class="space"> </span><span>→</span><span class="space"> </span><span>按钮显隐</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span><span class="space"> </span><span class="space"> </span><span>handleClick</span><span class="space"> </span><span>→</span><span class="space"> </span><span>点击&quot;套用&quot;按钮</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>▼</span><span class="space"> </span><span class="space"> </span><span>this.appearanceStore.setThemeInfo()</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>▼</span></span>
<span class="line"><span>52574.jsc</span><span class="space"> </span><span>(AppearanceStore)</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>←</span><span class="space"> </span><span>补丁</span><span class="space"> </span><span>C1</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span><span class="space"> </span><span class="space"> </span><span>setThemeInfo()</span><span class="space"> </span><span>→</span><span class="space"> </span><span>三级权限校验</span><span class="space"> </span><span>→</span><span class="space"> </span><span>nodeIKernelSkinService.setThemeInfo()</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>│</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>▼</span></span>
<span class="line"><span>持久化到本地配置</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="v8-字节码基础" tabindex="-1"><a class="header-anchor" href="#v8-字节码基础"><span>V8 字节码基础</span></a></h3><p><strong>以下的字节码仅针对当前软件版本所对应的V8版本，字节码会随着V8版本的不同而不同</strong></p><h4 id="关键操作码" tabindex="-1"><a class="header-anchor" href="#关键操作码"><span>关键操作码</span></a></h4><table><thead><tr><th>操作码</th><th>助记符</th><th>说明</th></tr></thead><tbody><tr><td><code>0E</code></td><td>LdaUndefined</td><td>累加器 = undefined（可用作 NOP 填充）</td></tr><tr><td><code>11</code></td><td>LdaTrue</td><td>累加器 = true</td></tr><tr><td><code>12</code></td><td>LdaFalse</td><td>累加器 = false</td></tr><tr><td><code>33 RR II FF</code></td><td>GetNamedProperty</td><td>从寄存器 RR 读取属性，II=常量池索引，FF=反馈槽</td></tr><tr><td><code>5B</code></td><td>ToBooleanLogicalNot</td><td>累加器 = !累加器</td></tr><tr><td><code>64</code></td><td>CallProperty0</td><td>无参方法调用</td></tr><tr><td><code>93 XX</code></td><td>Jump [XX]</td><td>无条件跳转，目标 = 当前偏移 + XX</td></tr><tr><td><code>A0 XX</code></td><td>JumpIfToBooleanTrue [XX]</td><td>若累加器为 true 则跳转</td></tr><tr><td><code>A1 XX</code></td><td>JumpIfToBooleanFalse [XX]</td><td>若累加器为 false 则跳转</td></tr><tr><td><code>A3 XX</code></td><td>JumpIfFalse [XX]</td><td>若累加器为 false 则跳转（不做 ToBoolean）</td></tr><tr><td><code>B3</code></td><td>Return</td><td>返回累加器中的值</td></tr><tr><td><code>CE</code></td><td>Star0</td><td>r0 = 累加器</td></tr><tr><td><code>CD</code></td><td>Star1</td><td>r1 = 累加器</td></tr></tbody></table><h4 id="寄存器编码" tabindex="-1"><a class="header-anchor" href="#寄存器编码"><span>寄存器编码</span></a></h4><table><thead><tr><th>编码</th><th>含义</th></tr></thead><tbody><tr><td><code>02</code></td><td><code>&lt;this&gt;</code></td></tr><tr><td><code>F9</code></td><td><code>r0</code></td></tr><tr><td><code>F8</code></td><td><code>r1</code></td></tr><tr><td><code>F7</code></td><td><code>r2</code></td></tr><tr><td>...</td><td>依次递减</td></tr></tbody></table><hr><h3 id="定位目标函数" tabindex="-1"><a class="header-anchor" href="#定位目标函数"><span>定位目标函数</span></a></h3><h4 id="从-ui-行为出发" tabindex="-1"><a class="header-anchor" href="#从-ui-行为出发"><span>从 UI 行为出发</span></a></h4><p>我们需要让付费主题出现&quot;套用&quot;按钮，点击后永久保存。</p><p>在反编译的 <code>77263.js</code> 中搜索关键词：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>grep</span><span class="space"> </span><span>-n</span><span class="space"> </span><span>&quot;showSvipBtn\|showTrialBtn\|showFreeThemeUseBtn\|setThemeInfo\|isSvip&quot;</span><span class="space"> </span><span>77263.js</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>发现关键 computed 属性和方法：</p><table><thead><tr><th>函数名</th><th>行号</th><th>作用</th></tr></thead><tbody><tr><td><code>showSvipBtn</code></td><td>4503</td><td>控制&quot;开通SVIP&quot;按钮显隐</td></tr><tr><td><code>showTrialBtn</code></td><td>4519</td><td>控制&quot;试用&quot;按钮显隐</td></tr><tr><td><code>showFreeThemeUseBtn</code></td><td>4535</td><td>控制&quot;套用&quot;按钮显隐</td></tr><tr><td><code>handleClick</code>（FreeThemeUseBtn）</td><td>4208</td><td>&quot;套用&quot;按钮点击处理</td></tr></tbody></table><h4 id="分析按钮显隐逻辑" tabindex="-1"><a class="header-anchor" href="#分析按钮显隐逻辑"><span>分析按钮显隐逻辑</span></a></h4><p>从反编译 JS 中读到的逻辑：</p><p><strong>showSvipBtn</strong>（显示&quot;开通SVIP&quot;按钮）：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">showTemplateTrialBtn</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isTrialing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>showTrialBtn</strong>（显示&quot;试用&quot;按钮）：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">showTemplateTrialBtn</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isTrialing</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>showFreeThemeUseBtn</strong>（显示&quot;套用&quot;按钮）：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&amp;&amp;</span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>→ 仅对免费主题显示&quot;套用&quot;。</p><p><strong>handleClick</strong>（FreeThemeUseBtn 的点击事件）：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">仅免费主题可执行</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">trialThemeStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">cancelTrialTheme</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">取消试用</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">appearanceStore</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setThemeInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">保存主题（持久化）</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="分析-setthemeinfo-的权限校验" tabindex="-1"><a class="header-anchor" href="#分析-setthemeinfo-的权限校验"><span>分析 setThemeInfo 的权限校验</span></a></h4><p>在 <code>52574.js</code> 中找到 <code>setThemeInfo</code> 的实现：</p><div class="language-javascript line-numbers-mode" data-ext="javascript" data-title="javascript"><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">async</span><span class="space"> </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setThemeInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">a0</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">...日志...</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSvip</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">非</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">SVIP</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">themeId</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!==</span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">defaultThemeId</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">非默认主题</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">this</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isSelectedFreeTheme</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">{</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">非免费主题</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">return</span><span class="space"> </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">undefined</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">←</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">直接拒绝！</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">//</span><span class="space"> </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">通过校验后，构建请求并保存</span></span>
<span class="line"><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">nodeIKernelSkinService</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">setThemeInfo</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">request</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>结论</strong>：<code>setThemeInfo</code> 内部有三级拦截，非 SVIP 用户保存付费主题会被静默拒绝。</p><hr><h3 id="从-js-映射到字节码" tabindex="-1"><a class="header-anchor" href="#从-js-映射到字节码"><span>从 JS 映射到字节码</span></a></h3><h4 id="在字节码转储中定位函数" tabindex="-1"><a class="header-anchor" href="#在字节码转储中定位函数"><span>在字节码转储中定位函数</span></a></h4><p>字节码转储文件 <code>77263.txt</code> 包含每个函数的 <code>SharedFunctionInfo</code> 及完整字节码。通过函数名搜索定位：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>grep</span><span class="space"> </span><span>-n</span><span class="space"> </span><span>&quot;showSvipBtn\|showFreeThemeUseBtn&quot;</span><span class="space"> </span><span>77263.txt</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>找到：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>33837:</span><span class="space"> </span><span>00000326001A9AF5:</span><span class="space"> </span><span>[SharedFunctionInfo]</span><span class="space"> </span><span>get</span><span class="space"> </span><span>showSvipBtn</span></span>
<span class="line"><span>33978:</span><span class="space"> </span><span>00000326001A9C15:</span><span class="space"> </span><span>[SharedFunctionInfo]</span><span class="space"> </span><span>get</span><span class="space"> </span><span>showFreeThemeUseBtn</span></span>
<span class="line"><span>31607:</span><span class="space"> </span><span>00000326001A82D5:</span><span class="space"> </span><span>[SharedFunctionInfo]</span><span class="space"> </span><span>handleClick</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="读取字节码" tabindex="-1"><a class="header-anchor" href="#读取字节码"><span>读取字节码</span></a></h4><p><strong>showSvipBtn</strong>（BytecodeArray[32]）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>0:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[0]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>appearanceStore</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>4:</span><span class="space"> </span><span>CE</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star0</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>5:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>r0,</span><span class="space"> </span><span>[1]</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSelectedFreeTheme</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>9:</span><span class="space"> </span><span>5B</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>ToBooleanLogicalNot</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>10:</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>15</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfFalse</span><span class="space"> </span><span>[21]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>31</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>if</span><span class="space"> </span><span>isSelectedFreeTheme</span><span class="space"> </span><span>→</span><span class="space"> </span><span>跳到</span><span class="space"> </span><span>return</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>12:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[2]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSvip</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>16:</span><span class="space"> </span><span>5B</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>ToBooleanLogicalNot</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>17:</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>0E</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfFalse</span><span class="space"> </span><span>[14]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>31</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>19:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>03</span><span class="space"> </span><span>06</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[3]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>showTemplateTrialBtn</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>23:</span><span class="space"> </span><span>5B</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>ToBooleanLogicalNot</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>24:</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>07</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfFalse</span><span class="space"> </span><span>[7]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>31</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>26:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>08</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[4]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isTrialing</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>30:</span><span class="space"> </span><span>5B</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>ToBooleanLogicalNot</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>31:</span><span class="space"> </span><span>B3</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Return</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>注意跳转距离：<code>A3 15</code>（→31）、<code>A3 0E</code>（→31）、<code>A3 07</code>（→31），都跳转到同一个 return。</p><p><strong>showFreeThemeUseBtn</strong>（BytecodeArray[17]）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>0:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[0]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSvip</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>4:</span><span class="space"> </span><span>5B</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>ToBooleanLogicalNot</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>5:</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>0B</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfFalse</span><span class="space"> </span><span>[11]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>16</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>if</span><span class="space"> </span><span>isSvip</span><span class="space"> </span><span>→</span><span class="space"> </span><span>return(false)</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>7:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[1]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>appearanceStore</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>11:</span><span class="space"> </span><span>CE</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star0</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>12:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>r0,</span><span class="space"> </span><span>[2]</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSelectedFreeTheme</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>16:</span><span class="space"> </span><span>B3</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Return</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>return</span><span class="space"> </span><span>isSelectedFreeTheme</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>handleClick</strong>（FreeThemeUseBtn，BytecodeArray[41]）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>0:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[0]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>appearanceStore</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>4:</span><span class="space"> </span><span>CE</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star0</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>5:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>r0,</span><span class="space"> </span><span>[1]</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSelectedFreeTheme</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>9:</span><span class="space"> </span><span>A1</span><span class="space"> </span><span>1E</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfToBooleanFalse</span><span class="space"> </span><span>[30]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>39</span><span class="space"> </span><span>;</span><span class="space"> </span><span>非免费主题</span><span class="space"> </span><span>→</span><span class="space"> </span><span>跳过</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>11:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[2]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>trialThemeStore</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>15:</span><span class="space"> </span><span>CD</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star1</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>16:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>03</span><span class="space"> </span><span>06</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>r1,</span><span class="space"> </span><span>[3]</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>cancelTrialTheme</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>20:</span><span class="space"> </span><span>CE</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star0</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>21:</span><span class="space"> </span><span>64</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>08</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>CallProperty0</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>cancelTrialTheme()</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>25:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>0A</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[0]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>appearanceStore</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>29:</span><span class="space"> </span><span>CD</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star1</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>30:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>04</span><span class="space"> </span><span>0C</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>r1,</span><span class="space"> </span><span>[4]</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>setThemeInfo</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>34:</span><span class="space"> </span><span>CE</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star0</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>35:</span><span class="space"> </span><span>64</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>0E</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>CallProperty0</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>setThemeInfo()</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>39:</span><span class="space"> </span><span>0E</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>LdaUndefined</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>40:</span><span class="space"> </span><span>B3</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Return</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>常量池：<code>[0]=appearanceStore, [1]=isSelectedFreeTheme, [2]=trialThemeStore, [3]=cancelTrialTheme, [4]=setThemeInfo</code></p><p><strong>setThemeInfo 权限校验</strong>（52574.txt，BytecodeArray[410]）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>offset</span><span class="space"> </span><span class="space"> </span><span>99:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>10</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[4]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSvip</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>103:</span><span class="space"> </span><span>A0</span><span class="space"> </span><span>23</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfToBooleanTrue</span><span class="space"> </span><span>[35]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>138</span><span class="space"> </span><span>;</span><span class="space"> </span><span>SVIP</span><span class="space"> </span><span>→</span><span class="space"> </span><span>跳过校验</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>105:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>06</span><span class="space"> </span><span>12</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[6]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>themeId</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>109:</span><span class="space"> </span><span>C9</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star5</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>110:</span><span class="space"> </span><span>19</span><span class="space"> </span><span>13</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>LdaImmutableCurrentContextSlot</span><span class="space"> </span><span>[19]</span><span class="space"> </span><span>;</span><span class="space"> </span><span>defaultThemeId</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>112:</span><span class="space"> </span><span>C8</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>Star6</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>113:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F3</span><span class="space"> </span><span>07</span><span class="space"> </span><span>09</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>r6,</span><span class="space"> </span><span>[7]</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>117:</span><span class="space"> </span><span>74</span><span class="space"> </span><span>F4</span><span class="space"> </span><span>14</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>TestEqualStrict</span><span class="space"> </span><span>r5</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>themeId</span><span class="space"> </span><span>===</span><span class="space"> </span><span>default?</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>120:</span><span class="space"> </span><span>A2</span><span class="space"> </span><span>12</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfTrue</span><span class="space"> </span><span>[18]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>138</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>是默认主题</span><span class="space"> </span><span>→</span><span class="space"> </span><span>放行</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>122:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>09</span><span class="space"> </span><span>15</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>GetNamedProperty</span><span class="space"> </span><span>&lt;this&gt;,</span><span class="space"> </span><span>[9]</span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>isSelectedFreeTheme</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>126:</span><span class="space"> </span><span>A0</span><span class="space"> </span><span>0C</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>JumpIfToBooleanTrue</span><span class="space"> </span><span>[12]</span><span class="space"> </span><span>→</span><span class="space"> </span><span>138</span><span class="space"> </span><span>;</span><span class="space"> </span><span>免费主题</span><span class="space"> </span><span>→</span><span class="space"> </span><span>放行</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>128:</span><span class="space"> </span><span>0E</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>LdaUndefined</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>←</span><span class="space"> </span><span>拒绝保存</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>129-137:</span><span class="space"> </span><span>...</span><span class="space"> </span><span>return</span><span class="space"> </span><span>undefined</span></span>
<span class="line"><span>offset</span><span class="space"> </span><span>138:</span><span class="space"> </span><span>85</span><span class="space"> </span><span>0A</span><span class="space"> </span><span>17</span><span class="space"> </span><span>29</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>CreateObjectLiteral</span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span class="space"> </span><span>;</span><span class="space"> </span><span>←</span><span class="space"> </span><span>开始构建保存请求</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="构造补丁" tabindex="-1"><a class="header-anchor" href="#构造补丁"><span>构造补丁</span></a></h3><table><thead><tr><th>文件</th><th>目标函数</th><th>策略</th></tr></thead><tbody><tr><td>77263.jsc</td><td>showSvipBtn</td><td>返回 false → 隐藏&quot;开通SVIP&quot;按钮</td></tr><tr><td>77263.jsc</td><td>showFreeThemeUseBtn</td><td>返回 true → 所有主题显示&quot;套用&quot;</td></tr><tr><td>77263.jsc</td><td>handleClick</td><td>去掉 isSelectedFreeTheme 条件 → 付费主题也能套用</td></tr><tr><td>52574.jsc</td><td>setThemeInfo</td><td>跳过三级权限校验 → 允许保存付费主题</td></tr></tbody></table><p><strong>替换整个函数体为常量返回：</strong></p><p>原理：将函数体首字节改为 <code>11 B3</code>（LdaTrue + Return）或 <code>12 B3</code>（LdaFalse + Return），后续字节用 <code>0E</code>（LdaUndefined）填充。V8 解释器执行到 Return 后即返回，填充字节永远不会被执行。</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>原始:</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span>5B</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>15</span><span class="space"> </span><span>...</span><span class="space"> </span><span class="space"> </span><span>(复杂的条件逻辑)</span></span>
<span class="line"><span>修改:</span><span class="space"> </span><span>12</span><span class="space"> </span><span>B3</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>...</span><span class="space"> </span><span class="space"> </span><span>(直接返回</span><span class="space"> </span><span>false)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>去除条件跳转：</strong></p><p>原理：将 <code>A1 1E</code>（JumpIfToBooleanFalse [30]）替换为 <code>0E 0E</code>（两个 NOP），使代码无条件执行后续的 <code>cancelTrialTheme()</code> + <code>setThemeInfo()</code>。</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>原始</span><span class="space"> </span><span>offset</span><span class="space"> </span><span>9:</span><span class="space"> </span><span>A1</span><span class="space"> </span><span>1E</span><span class="space"> </span><span class="space"> </span><span>→</span><span class="space"> </span><span>若</span><span class="space"> </span><span>isSelectedFreeTheme</span><span class="space"> </span><span>为</span><span class="space"> </span><span>false，跳过保存</span></span>
<span class="line"><span>修改</span><span class="space"> </span><span>offset</span><span class="space"> </span><span>9:</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span class="space"> </span><span>→</span><span class="space"> </span><span>无条件落入保存逻辑</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>条件跳转改为无条件跳转：</strong></p><p>原理：将 <code>A0 23</code>（JumpIfToBooleanTrue [35]）改为 <code>93 23</code>（Jump [35]），无论 isSvip 是否为 true，都无条件跳转到 offset 138 开始保存。原来只有 SVIP 用户能到达的保存代码，现在所有用户都能执行。</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>原始</span><span class="space"> </span><span>offset</span><span class="space"> </span><span>103:</span><span class="space"> </span><span>A0</span><span class="space"> </span><span>23</span><span class="space"> </span><span class="space"> </span><span>→</span><span class="space"> </span><span>仅</span><span class="space"> </span><span>isSvip</span><span class="space"> </span><span>为</span><span class="space"> </span><span>true</span><span class="space"> </span><span>时跳到保存</span></span>
<span class="line"><span>修改</span><span class="space"> </span><span>offset</span><span class="space"> </span><span>103:</span><span class="space"> </span><span>93</span><span class="space"> </span><span>23</span><span class="space"> </span><span class="space"> </span><span>→</span><span class="space"> </span><span>无条件跳到保存</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><hr><h3 id="完整补丁列表" tabindex="-1"><a class="header-anchor" href="#完整补丁列表"><span>完整补丁列表</span></a></h3><h4 id="_77263-jsc—-showsvipbtn-→-return-false" tabindex="-1"><a class="header-anchor" href="#_77263-jsc—-showsvipbtn-→-return-false"><span>77263.jsc— showSvipBtn → return false</span></a></h4><p><strong>搜索</strong>（32字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span>5B</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>15</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>5B</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>03</span><span class="space"> </span><span>06</span><span class="space"> </span><span>5B</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>07</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>08</span><span class="space"> </span><span>5B</span><span class="space"> </span><span>B3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>替换</strong>（32字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>12</span><span class="space"> </span><span>B3</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_77263-jsc—-showfreethemeusebtn-→-return-true" tabindex="-1"><a class="header-anchor" href="#_77263-jsc—-showfreethemeusebtn-→-return-true"><span>77263.jsc— showFreeThemeUseBtn → return true</span></a></h4><p><strong>搜索</strong>（37字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>11</span><span class="space"> </span><span>04</span><span class="space"> </span><span>75</span><span class="space"> </span><span>05</span><span class="space"> </span><span>04</span><span class="space"> </span><span>0D</span><span class="space"> </span><span>2E</span><span class="space"> </span><span>67</span><span class="space"> </span><span>08</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>01</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>5B</span><span class="space"> </span><span>A3</span><span class="space"> </span><span>0B</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>B3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>替换</strong>（37字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>11</span><span class="space"> </span><span>04</span><span class="space"> </span><span>75</span><span class="space"> </span><span>05</span><span class="space"> </span><span>04</span><span class="space"> </span><span>0D</span><span class="space"> </span><span>2E</span><span class="space"> </span><span>67</span><span class="space"> </span><span>08</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>01</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>11</span><span class="space"> </span><span>B3</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_77263-jsc—-handleclick-去除-isselectedfreetheme-守卫" tabindex="-1"><a class="header-anchor" href="#_77263-jsc—-handleclick-去除-isselectedfreetheme-守卫"><span>77263.jsc— handleClick 去除 isSelectedFreeTheme 守卫</span></a></h4><p><strong>搜索</strong>（41字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span>A1</span><span class="space"> </span><span>1E</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>CD</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>03</span><span class="space"> </span><span>06</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>64</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>08</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>0A</span><span class="space"> </span><span>CD</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>04</span><span class="space"> </span><span>0C</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>64</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>B3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>替换</strong>（41字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>00</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>01</span><span class="space"> </span><span>02</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>CD</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>03</span><span class="space"> </span><span>06</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>64</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>08</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>00</span><span class="space"> </span><span>0A</span><span class="space"> </span><span>CD</span><span class="space"> </span><span>33</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>04</span><span class="space"> </span><span>0C</span><span class="space"> </span><span>CE</span><span class="space"> </span><span>64</span><span class="space"> </span><span>F9</span><span class="space"> </span><span>F8</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>B3</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_52574-jsc—-setthemeinfo-跳过权限检查" tabindex="-1"><a class="header-anchor" href="#_52574-jsc—-setthemeinfo-跳过权限检查"><span>52574.jsc— setThemeInfo 跳过权限检查</span></a></h4><p><strong>搜索</strong>（15字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>65</span><span class="space"> </span><span>F4</span><span class="space"> </span><span>F3</span><span class="space"> </span><span>F2</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>10</span><span class="space"> </span><span>A0</span><span class="space"> </span><span>23</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>06</span><span class="space"> </span><span>12</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><strong>替换</strong>（15字节）：</p><div class="language- line-numbers-mode" data-ext="" data-title=""><button class="copy" title="复制代码" data-copied="已复制"></button><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>65</span><span class="space"> </span><span>F4</span><span class="space"> </span><span>F3</span><span class="space"> </span><span>F2</span><span class="space"> </span><span>0E</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>04</span><span class="space"> </span><span>10</span><span class="space"> </span><span>93</span><span class="space"> </span><span>23</span><span class="space"> </span><span>33</span><span class="space"> </span><span>02</span><span class="space"> </span><span>06</span><span class="space"> </span><span>12</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p><img src="/assets/1-CjvN95Sb.png" alt=""></p><p><img src="/assets/2-Phwcv42-.png" alt=""></p><hr><h2 id="练习" tabindex="-1"><a class="header-anchor" href="#练习"><span>练习</span></a></h2><p>PS：谁在release中还塞开发工具，看了刚刚的分析，尝试把开发工具调出来吧</p><p><img src="/assets/3-C63zQC5g.png" alt=""></p></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-62ee972a data-v-61cb028b><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-61cb028b><span class="contributors-label" data-v-61cb028b>贡献者: </span><span class="contributors-info" data-v-61cb028b><!--[--><!--[--><span class="contributor" data-v-61cb028b>xqy2006</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-61cb028b><div class="pager" data-v-61cb028b><a class="vp-link no-icon link pager-link prev" href="/article/mn60qrhs/" data-v-61cb028b data-v-22e16ae1><!--[--><span class="desc" data-v-61cb028b>上一页</span><span class="title" data-v-61cb028b>PydAnalyzer——pyd辅助分析工具</span><!--]--><!----></a></div><div class="pager" data-v-61cb028b><a class="vp-link no-icon link pager-link next" href="/article/5qif4wjc/" data-v-61cb028b data-v-22e16ae1><!--[--><span class="desc" data-v-61cb028b>下一页</span><span class="title" data-v-61cb028b>PySandbox——一个用Python编写的PE文件授权系统</span><!--]--><!----></a></div></nav></footer><div id="comment" class="giscus-wrapper input-top vp-comment" vp-comment style="display:block;" data-v-62ee972a><div style="display: flex;
align-items: center;
justify-content: center;
height: 96px"><span style="--loading-icon: url(&quot;data:image/svg+xml;utf8,%3Csvg xmlns=&#39;http://www.w3.org/2000/svg&#39; preserveAspectRatio=&#39;xMidYMid&#39; viewBox=&#39;25 25 50 50&#39;%3E%3CanimateTransform attributeName=&#39;transform&#39; type=&#39;rotate&#39; dur=&#39;2s&#39; keyTimes=&#39;0;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;360&#39;%3E%3C/animateTransform%3E%3Ccircle cx=&#39;50&#39; cy=&#39;50&#39; r=&#39;20&#39; fill=&#39;none&#39; stroke=&#39;currentColor&#39; stroke-width=&#39;4&#39; stroke-linecap=&#39;round&#39;%3E%3Canimate attributeName=&#39;stroke-dasharray&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;1,200;90,200;1,200&#39;%3E%3C/animate%3E%3Canimate attributeName=&#39;stroke-dashoffset&#39; dur=&#39;1.5s&#39; keyTimes=&#39;0;0.5;1&#39; repeatCount=&#39;indefinite&#39; values=&#39;0;-35px;-125px&#39;%3E%3C/animate%3E%3C/circle%3E%3C/svg%3E&quot;);
--icon-size: 48px;
display: inline-block;
width: var(--icon-size);
height: var(--icon-size);
background-color: currentcolor;
-webkit-mask-image: var(--loading-icon);
mask-image: var(--loading-icon);
"></span></div></div><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button type="button" class="vp-back-to-top" aria-label="back to top" data-v-22826f99 style="display:none;" data-v-e7c9cec7><span class="percent" data-allow-mismatch data-v-e7c9cec7>0%</span><span class="show icon vpi-back-to-top" data-v-e7c9cec7></span><svg aria-hidden="true" data-v-e7c9cec7><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-e7c9cec7></circle></svg></button><footer class="vp-footer" vp-footer data-v-22826f99 data-v-086fc8d2><!--[--><div class="container" data-v-086fc8d2><p class="message" data-v-086fc8d2>xqy2006's blog</p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-CvtkJ6Nv.js" defer></script></body></html>